var makeUsCodeUrl=function(e){var t=e.usc,a=t.title,n=t.section;return"http://www.law.cornell.edu/uscode/text/"+a+"/"+n},makeCfrUrl=function(e){var t=e.cfr,a=t.title,n=t.part;return"http://www.law.cornell.edu/cfr/text/"+a+"/"+n},makeDcCodeUrl=function(e){var t=e.dc_code,a=t.title,n=t.section;return"http://dccode.org/simple/sections/"+a+"-"+n},makeJudicialUrl=function(e){return console.log("judicialing"),"https://casetext.com/search#!/?q="+e.match},removeTrailingPeriod=function(e){var t=e.slice(-1);return"."===t&&(e=e.substring(0,e.length-1)),e},makeUrl=function(e){if(console.log(e.type),"usc"===e.type)return makeUsCodeUrl(e);if("cfr"===e.type)return makeCfrUrl(e);if("dc_code"===e.type)return makeDcCodeUrl(e);if("judicial"===e.type)return makeJudicialUrl(e);var t=e.match;return"https://casetext.com/search#!/?q="+t},makeATag=function(e,t){var a="<a href='"+t+"'>",n=e,r="</a>";return a+n+r},citations=function(){return[{type:"output",filter:function(e){var t=Citation.find(e).citations;if(0===t)return e;for(var a=0,n=t.length;n>a;a++){var r=t[a].match;r=removeTrailingPeriod(r),e=e.replace(r,makeATag(r,makeUrl(t[a])))}return e}}]};window.Showdown.extensions.citations=citations;var converter=new Showdown.converter({extensions:["citations"]}),Container=React.createClass({displayName:"Container",render:function(){return React.DOM.div({className:"container"},React.DOM.div({className:"row clearfix"},this.props.children))}}),MarkdownEditor=React.createClass({displayName:"MarkdownEditor",getInitialState:function(){return{value:"Type some *markdown* here!. Legal citations become links.\n\nSee, e.g., 35 USC 112 and Ashcroft v. Iqbal, 556 U.S. 662 (2009)."}},handleChange:function(){this.setState({value:this.refs.textarea.getDOMNode().value})},render:function(){return React.DOM.div({className:"MarkdownEditor"},React.DOM.div({className:"col-md-6 column"},React.DOM.h3(null,"Input"),React.DOM.textarea({className:"field span20",id:"textarea",rows:"25",cols:"60",onChange:this.handleChange,ref:"textarea",defaultValue:this.state.value})),React.DOM.div({className:"col-md-6 column"},React.DOM.h3(null,"Output"),React.DOM.div({className:"content",dangerouslySetInnerHTML:{__html:converter.makeHtml(this.state.value)}})))}});React.renderComponent(Container(null,MarkdownEditor(null)),document.getElementById("content"));